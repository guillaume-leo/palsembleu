import{_ as m}from"./nuxt-link.6a40b698.js";import{i as s,K as g,j as d,k as v,R as k,l as p,m as x,S as A,q as h,r as K,T,s as w,t as C,v as N,a as j,f as B,w as u,x as c,F as R,o as S,h as l}from"./entry.a51a3b8e.js";import{_ as b}from"./_plugin-vue_export-helper.c27b6911.js";function f(e){return e!==null&&typeof e=="object"}function _(e,o,t=".",n){if(!f(o))return _(e,{},t,n);const a=Object.assign({},o);for(const r in e){if(r==="__proto__"||r==="constructor")continue;const i=e[r];i!=null&&(n&&n(a,r,i,t)||(Array.isArray(i)&&Array.isArray(a[r])?a[r]=[...i,...a[r]]:f(i)&&f(a[r])?a[r]=_(i,a[r],(t?`${t}.`:"")+r.toString(),n):a[r]=i))}return a}function H(e){return(...o)=>o.reduce((t,n)=>_(t,n,"",e),{})}const L=H(),V=(e,o)=>o.path.replace(/(:\w+)\([^)]+\)/g,"$1").replace(/(:\w+)[?+*]/g,"$1").replace(/:\w+/g,t=>{var n;return((n=e.params[t.slice(1)])==null?void 0:n.toString())||""}),F=(e,o)=>{const t=e.route.matched.find(a=>{var r;return((r=a.components)==null?void 0:r.default)===e.Component.type}),n=o??(t==null?void 0:t.meta.key)??(t&&V(e.route,t));return typeof n=="function"?n(e.route):n},I=(e,o)=>({default:()=>e?s(g,e===!0?{}:e,o):o}),O=d({name:"NuxtPage",inheritAttrs:!1,props:{name:{type:String},transition:{type:[Boolean,Object],default:void 0},keepalive:{type:[Boolean,Object],default:void 0},route:{type:Object},pageKey:{type:[Function,String],default:null}},setup(e,{attrs:o}){const t=v();return()=>s(k,{name:e.name,route:e.route,...o},{default:n=>{if(!n.Component)return;const a=F(n,e.pageKey),r=t.deferHydration(),i=!!(e.transition??n.route.meta.pageTransition??p),y=i&&$([e.transition,n.route.meta.pageTransition,p,{onAfterLeave:()=>{t.callHook("page:transition:finish",n.Component)}}].filter(Boolean));return x(T,i&&y,I(e.keepalive??n.route.meta.keepalive??K,s(A,{suspensible:!0,onPending:()=>t.callHook("page:start",n.Component),onResolve:()=>{h(()=>t.callHook("page:finish",n.Component).finally(r))}},{default:()=>s(q,{key:a,routeProps:n,pageKey:a,hasTransition:i})}))).default()}})}});function P(e){return Array.isArray(e)?e:e?[e]:[]}function $(e){const o=e.map(t=>({...t,onAfterLeave:P(t.onAfterLeave)}));return L(...o)}const q=d({name:"RouteProvider",props:["routeProps","pageKey","hasTransition"],setup(e){const o=e.pageKey,t=e.routeProps.route,n={};for(const a in e.routeProps.route)n[a]=w(()=>o===e.pageKey?e.routeProps.route[a]:t[a]);return C("_route",N(n)),()=>s(e.routeProps.Component)}});const D={},E={class:"nav"};function z(e,o){const t=m,n=O;return S(),j(R,null,[B("nav",E,[u(t,{class:"nav__link",to:"/"},{default:c(()=>[l("gallery")]),_:1}),u(t,{class:"nav__link",to:"/setup"},{default:c(()=>[l("setup")]),_:1}),u(t,{class:"nav__link",to:"/simulation"},{default:c(()=>[l("the simulation")]),_:1})]),u(n)],64)}const Q=b(D,[["render",z],["__scopeId","data-v-9f7817d3"]]);export{Q as default};
